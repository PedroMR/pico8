pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
inp_dir="e"
pl={x=5,y=5,d="e"}
ch={x=4,y=5}
gmo=2
gpl=3
gch=1

ttu=0 --time to update
td=0.2
function _update()
 ttu-=td
 upd_inp()
 if (ttu<=0) ttu=1 upd_all()
end

function upd_all()
	upd_pl()
end

function upd_inp()
 if (btn(0)) inp_dir="w"
 if (btn(1)) inp_dir="e"
 if (btn(2)) inp_dir="n"
 if (btn(3)) inp_dir="s"
end

dirs={e={x=1,y=0},w={x=-1,y=0},
      s={x=0,y=1},n={x=0,y=-1}}
function upd_pl()
 pl.d = inp_dir
 local delta=dirs[pl.d];
 ch.x=pl.x ch.y=pl.y
 pl.x += delta.x
 pl.y += delta.y
end

function _draw()
	map(0,0)
	gspr(gmo,0,0)
	gspr(gch,ch)
	gspr(gpl,pl)
end

function gspr(id,col,row)
 if type(col)=="table" then
   row = col.y
   col = col.x
 end
 spr(id,col*8,row*8)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000a00000555000000aa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000090a000566755000a00a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000a0a9a0056666650a0aa0a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000999990056666650a0aa0a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000a090a900566755000a00a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000aaaa00000555000000aa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
77777776000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7666666d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7666666d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7666666d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7666666d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7666666d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7666666d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6ddddddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
1010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
1010101010101010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
