pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- ship
draw_bb=true
local pl={x=60,y=60,w=8,h=6,tw=2,th=2,spr=16}
local cam={x=0,y=0}

function _update()
 upd_cam()
 upd_ctrl()
end

function upd_cam()
 local cam_spd=0.5
 cam.x += cam_spd
 pl.x += cam_spd
end

function upd_ctrl()
 local pl_spd=3
 if (btn(0)) trymove(-pl_spd,0)
 if (btn(1)) trymove( pl_spd,0)
 if (btn(2)) trymove(0,-pl_spd)
 if (btn(3)) trymove(0, pl_spd)
end

function trymove(dx,dy)
 pl.x += dx pl.y += dy
 
 local x0,x1=pl.x-pl.w/2,pl.x+pl.w/2
 local y0,y1=pl.y-pl.h/2,pl.y+pl.h/2
 -- world bounds
 if x0<cam.x or x1>cam.x+127 or y0<cam.y or y1>cam.y+127 then
	 pl.x -= dx pl.y -= dy
 end
end

function _draw()
 camera(cam.x,cam.y)
 rectfill(cam.x,cam.y,cam.x+127,cam.y+127,1)
 map(0,0,127,0)
 dspr(pl)
end

function dspr(o)
 spr(o.spr,o.x-o.tw*4,o.y-o.th*4,o.tw,o.th)
 if draw_bb then
	 color(11)
	 rect(o.x-o.w/2,o.y-o.h/2,o.x+o.w/2,o.y+o.h/2)
 end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000000000000000000000ee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700077700770000000000eeeedd0000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000007777770088ac0000ddddd0008880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000077000000000000eeeee00000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08a66666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
89aafffff66600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0066fffffff666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006fffffcff6660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000006ffffccff700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00006fffffcff6660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0066fffffff666000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
89aafffff66600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
08a66666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666600000006666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666660000000666666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666000000066666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666600000006666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666660000000666600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666000000066600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666600000006600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
66666666666666660000000600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4240404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0042404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
